#!/usr/bin/python
import socket,sys

def titulo():
    print "\n|=====>>========> DNS Resolver & Scann <======<<=======|\n"

def linha():
    print "_________________________________________________"

contador = 0

if (len(sys.argv) <= 1):
    titulo()
    print "=> Modo de uso: DNS_Resolver.py [DOMINIO/SITE]"

else:
    titulo()
    print "Buscando IP de", sys.argv[1],"\n"

    print "|>", sys.argv[1],"--->", socket.gethostbyname(sys.argv[1])

    linha()

    escolhaPorta = raw_input("Verificar Portas abertas ? [s/n]\n|> ")

    if (escolhaPorta == "s"):

        for porta in range(1,65536):  
            meuSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

            if (meuSocket.connect_ex((sys.argv[1], porta)) == 0):
                contador = contador + 1
                print "=> Porta:",porta,"-> ABERTA !"
                meuSocket.close()

    print "\nTotal de portas abertas: ", contador
    linha()

print "\033[1;31m***>---------------------<***"
print "\033[1;32m***>-<  By: Felipesco  >-<***"
print "\033[1;31m***>---------------------<***"

exit()
